<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ãƒˆãƒ¬ã‚¹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            width: 100%;
            max-width: 400px;
        }
        .card-title {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }
        .card-description {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
        }
        .input {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #c06dda;
            border-radius: 4px;
            text-align: center;
            font-family: 'Noto Sans JP', Arial, sans-serif;
        }
        .button {
            width: 100%;
            padding: 10px;
            background-color: #c06dda;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
            font-family: 'Noto Sans JP', Arial, sans-serif;
            font-weight: bold;
        }
        .button:hover {
            background-color: #a755c2;
        }
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        .progress-bar {
            width: 0%;
            height: 10px;
            background-color: #c06dda;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        .question {
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }
        .result {
            text-align: center;
        }
        .emoji {
            font-size: 48px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div id="app" class="card"></div>

    <script>
        var questions = [
            { text: "ä»•äº‹ã®ç· ã‚åˆ‡ã‚ŠãŒè¿«ã£ã¦ã„ã¾ã™ã€‚ã©ã†ã—ã¾ã™ã‹ï¼Ÿ", options: [
                { text: "å¾¹å¤œã—ã¦ã§ã‚‚çµ‚ã‚ã‚‰ã›ã‚‹", stress: 15 },
                { text: "ã§ãã‚‹ç¯„å›²ã§é€²ã‚ã€ä¸Šå¸ã«ç›¸è«‡ã™ã‚‹", stress: 5 },
                { text: "åŒåƒšã«å”åŠ›ã‚’æ±‚ã‚ã‚‹", stress: 0 }
            ]},
            { text: "å‹äººã‹ã‚‰å¥³å­ä¼šã«èª˜ã‚ã‚Œã¾ã—ãŸã€‚ã©ã†ã—ã¾ã™ã‹ï¼Ÿ", options: [
                { text: "æ–­ã‚‹", stress: 5 },
                { text: "çŸ­æ™‚é–“ã ã‘å‚åŠ ã™ã‚‹", stress: 0 },
                { text: "æœã¾ã§ç››ã‚Šä¸ŠãŒã‚‹", stress: 10 }
            ]},
            { text: "ä¼‘æ—¥ã®éã”ã—æ–¹ã¯ï¼Ÿ", options: [
                { text: "å®¶ã§ã‚†ã£ãã‚Šã™ã‚‹", stress: -5 },
                { text: "ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã«å‡ºã‹ã‘ã‚‹", stress: 0 },
                { text: "æºœã¾ã£ãŸå®¶äº‹ã‚’ã“ãªã™", stress: 10 }
            ]},
            { text: "æ°—åˆ†ãŒè½ã¡è¾¼ã‚“ã§ã„ã¾ã™ã€‚ã©ã†ã—ã¾ã™ã‹ï¼Ÿ", options: [
                { text: "å‹äººã¨ãŠã—ã‚ƒã¹ã‚Šã™ã‚‹", stress: -5 },
                { text: "ã‚¨ã‚¹ãƒ†ã«è¡Œã", stress: -10 },
                { text: "æˆ‘æ…¢ã—ã¦æ™®æ®µé€šã‚Šéã”ã™", stress: 10 }
            ]},
            { text: "æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå§‹ã¾ã‚Šã¾ã™ã€‚ã©ã†å–ã‚Šçµ„ã¿ã¾ã™ã‹ï¼Ÿ", options: [
                { text: "ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’å–ã£ã¦ç©æ¥µçš„ã«é€²ã‚ã‚‹", stress: 10 },
                { text: "ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã¨å”åŠ›ã—ãªãŒã‚‰é€²ã‚ã‚‹", stress: 0 },
                { text: "ã§ãã‚‹ã ã‘ç›®ç«‹ãŸãªã„ã‚ˆã†ã«ã™ã‚‹", stress: 5 }
            ]},
            { text: "ä½“é‡ãŒå¢—ãˆã¦ãã¾ã—ãŸã€‚ã©ã†ã—ã¾ã™ã‹ï¼Ÿ", options: [
                { text: "å³ã—ã„ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã‚’å§‹ã‚ã‚‹", stress: 15 },
                { text: "é©åº¦ãªé‹å‹•ã‚’å§‹ã‚ã‚‹", stress: -5 },
                { text: "æ°—ã«ã›ãšå¥½ããªã‚‚ã®ã‚’é£Ÿã¹ã‚‹", stress: 5 }
            ]},
            { text: "æ‹æ„›é–¢ä¿‚ã§ãƒˆãƒ©ãƒ–ãƒ«ãŒèµ·ãã¾ã—ãŸã€‚ã©ã†ã—ã¾ã™ã‹ï¼Ÿ", options: [
                { text: "ä¸€äººã§æ‚©ã‚€", stress: 15 },
                { text: "å‹äººã«ç›¸è«‡ã™ã‚‹", stress: -5 },
                { text: "ç›¸æ‰‹ã¨è©±ã—åˆã†", stress: 5 }
            ]},
            { text: "è·å ´ã§æ„è¦‹ã®å¯¾ç«‹ãŒã‚ã‚Šã¾ã—ãŸã€‚ã©ã†å¯¾å‡¦ã—ã¾ã™ã‹ï¼Ÿ", options: [
                { text: "è‡ªåˆ†ã®æ„è¦‹ã‚’å¼·ãä¸»å¼µã™ã‚‹", stress: 10 },
                { text: "å¦¥å”ç‚¹ã‚’æ¢ã‚‹", stress: 0 },
                { text: "ç›¸æ‰‹ã®æ„è¦‹ã«å¾“ã†", stress: 5 }
            ]},
            { text: "ä¹…ã—ã¶ã‚Šã®åŒçª“ä¼šã«èª˜ã‚ã‚Œã¾ã—ãŸã€‚ã©ã†ã—ã¾ã™ã‹ï¼Ÿ", options: [
                { text: "å¼µã‚Šåˆ‡ã£ã¦å‚åŠ ã™ã‚‹", stress: 5 },
                { text: "æ°—è»½ãªæ°—æŒã¡ã§å‚åŠ ã™ã‚‹", stress: 0 },
                { text: "æ¬ å¸­ã™ã‚‹", stress: -5 }
            ]},
            { text: "é•·æœŸã®ä¼‘æš‡ãŒå–ã‚Œãã†ã§ã™ã€‚ã©ã†éã”ã—ã¾ã™ã‹ï¼Ÿ", options: [
                { text: "æµ·å¤–æ—…è¡Œã«è¡Œã", stress: -10 },
                { text: "è‡ªå®…ã§ã‚†ã£ãã‚Šéã”ã™", stress: -5 },
                { text: "è³‡æ ¼å–å¾—ã®ãŸã‚ã«å‹‰å¼·ã™ã‚‹", stress: 10 }
            ]}
        ];

        var characterEmojis = {
            relaxed: "ğŸ˜ŒğŸ§˜â€â™€ï¸",
            balanced: "ğŸ˜ŠğŸƒâ€â™€ï¸",
            busy: "ğŸ¤”ğŸ’¼",
            stressed: "ğŸ˜“ğŸ“Š",
            fighter: "ğŸ’ªğŸ˜¤"
        };

        var playerName = '';
        var stress = 50;
        var currentQuestion = 0;

        function renderStartScreen() {
            var app = document.getElementById('app');
            app.innerHTML = '<div class="card-title">ã‚¹ãƒˆãƒ¬ã‚¹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</div>' +
                '<div class="card-description">ã‚ãªãŸã®ã‚¹ãƒˆãƒ¬ã‚¹è€æ€§ã‚’ãƒã‚§ãƒƒã‚¯ï¼</div>' +
                '<input type="text" id="nameInput" class="input" placeholder="ã‚ãªãŸã®åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">' +
                '<button onclick="startGame()" class="button">ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹</button>';
        }

        function startGame() {
            playerName = document.getElementById('nameInput').value;
            if (playerName.trim() !== '') {
                renderQuestion();
            }
        }

        function renderQuestion() {
            var app = document.getElementById('app');
            var question = questions[currentQuestion];
            var html = '<div class="card-title">ã‚¹ãƒˆãƒ¬ã‚¹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</div>' +
                '<div class="card-description">' + playerName + 'ã•ã‚“ã®æ—¥å¸¸ç”Ÿæ´»</div>' +
                '<div class="progress-container">' +
                '<div class="progress-bar" style="width: ' + stress + '%;"></div>' +
                '</div>' +
                '<div class="question">è³ªå• ' + (currentQuestion + 1) + '/10: ' + question.text + '</div>';
            
            for (var i = 0; i < question.options.length; i++) {
                html += '<button onclick="handleAnswer(' + i + ')" class="button">' +
                    question.options[i].text + '</button>';
            }
            
            app.innerHTML = html;
        }

        function handleAnswer(optionIndex) {
            var question = questions[currentQuestion];
            stress += question.options[optionIndex].stress;
            stress = Math.max(0, Math.min(100, stress));

            currentQuestion++;
            if (currentQuestion < questions.length) {
                renderQuestion();
            } else {
                renderResult();
            }
        }

        function getStressLevel() {
            if (stress < 30) return "ãƒªãƒ©ãƒƒã‚¯ã‚¹";
            if (stress < 70) return "æ™®é€š";
            return "ã‚¹ãƒˆãƒ¬ã‚¹ãƒ•ãƒ«";
        }

        function getStressCharacter() {
            if (stress < 30) return { name: "ã‚†ã‚‹ãµã‚ãƒ©ã‚¤ãƒ•ãƒã‚¹ã‚¿ãƒ¼", emoji: characterEmojis.relaxed };
            if (stress < 50) return { name: "é¢¯çˆ½ã¨ã—ãŸãƒˆãƒ¬ãƒ³ãƒ‰ã‚»ãƒƒã‚¿ãƒ¼", emoji: characterEmojis.balanced };
            if (stress < 70) return { name: "å¿™ã—ã„ã‘ã©é ‘å¼µã‚‹ãƒãƒ«ãƒã‚¿ã‚¹ã‚«ãƒ¼", emoji: characterEmojis.busy };
            if (stress < 90) return { name: "ç‡ƒãˆå°½ãå¯¸å‰ã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¦ãƒ¼ãƒãƒ³", emoji: characterEmojis.stressed };
            return { name: "ã‚¹ãƒˆãƒ¬ã‚¹ã¨é—˜ã†ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼", emoji: characterEmojis.fighter };
        }

        function getAdvice() {
            if (stress < 30) return "ç´ æ™´ã‚‰ã—ã„ãƒãƒ©ãƒ³ã‚¹æ„Ÿè¦šã§ã™ã­ã€‚å‘¨ã‚Šã«ã‚‚è‰¯ã„å½±éŸ¿ã‚’ä¸ãˆã¦ã„ã‚‹ã¯ãšã€‚ãŸã¾ã«ã¯è‡ªåˆ†ã¸ã®ã”è¤’ç¾ã‚‚å¿˜ã‚Œãšã«ï¼";
            if (stress < 70) return "è‰¯ã„ãƒšãƒ¼ã‚¹ã§éã”ã›ã¦ã„ã¾ã™ã­ã€‚ã§ã‚‚ã€ãŸã¾ã«ã¯æ€ã„åˆ‡ã£ã¦ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã™ã‚‹æ™‚é–“ã‚’ä½œã‚‹ã®ã‚‚å¤§åˆ‡ã§ã™ã€‚";
            return "é ‘å¼µã‚Šã™ãã¦ã„ã¾ã›ã‚“ã‹ï¼ŸãŸã¾ã«ã¯ã€ŒNOã€ã¨è¨€ã†ã“ã¨ã‚‚å¤§åˆ‡ã§ã™ã€‚ãƒªãƒ©ãƒƒã‚¯ã‚¹ã™ã‚‹æ™‚é–“ã‚’æ„è­˜çš„ã«ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚";
        }

        function renderResult() {
            var app = document.getElementById('app');
            var character = getStressCharacter();
            app.innerHTML = '<div class="card-title">ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœ</div>' +
                '<div class="result">' +
                '<p>' + playerName + 'ã•ã‚“ã®ã‚¹ãƒˆãƒ¬ã‚¹ãƒ¬ãƒ™ãƒ«: ' + stress + '%</p>' +
                '<div class="progress-container">' +
                '<div class="progress-bar" style="width: ' + stress + '%;"></div>' +
                '</div>' +
                '<p>ã‚¹ãƒˆãƒ¬ã‚¹çŠ¶æ…‹: ' + getStressLevel() + '</p>' +
                '<div class="emoji">' + character.emoji + '</div>' +
                '<p>ã‚ãªãŸã¯ã€' + character.name + 'ã€ã‚¿ã‚¤ãƒ—ã§ã™ï¼</p>' +
                '<p>' + getAdvice() + '</p>' +
                '<button onclick="resetGame()" class="button">ã‚‚ã†ä¸€åº¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸</button>' +
                '</div>';
        }

        function resetGame() {
            playerName = '';
            stress = 50;
            currentQuestion = 0;
            renderStartScreen();
        }

        // åˆæœŸç”»é¢ã®è¡¨ç¤º
        renderStartScreen();
    </script>
</body>
</html>
